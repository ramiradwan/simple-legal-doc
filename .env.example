# ==============================================================================  
# simple-legal-doc — Environment Configuration (REFERENCE)  
# ==============================================================================  
#  
# This file serves as a reference for supported environment variables.  
#  
# In practice, variables are typically split by microservice, for example:  
#  
#   - .env.backend   → backend service  
#   - .env.signer    → signer sidecar  
#   - .env.auditor   → auditor service  
#  
# docker-compose.yml demonstrates one such mapping using per-service env files.  
# This file is not intended to be mounted directly.  
#  
# ==============================================================================  
  
  
# ==============================================================================  
# BACKEND SERVICE (.env.backend)  
# ==============================================================================  
#  
# Service:  
#   - backend  
#  
# Responsibilities include:  
#   - document generation  
#   - canonicalization and hashing  
#   - PDF/A-3 normalization  
#   - invoking the signing backend  
#  
# ------------------------------------------------------------------------------  
  
# ------------------------------------------------------------------  
# Signing backend selection  
#  
# local : Local PKCS#12 signing (development or testing)  
# http  : External signer sidecar (Azure Artifact Signing)  
# ------------------------------------------------------------------  
SIGNING_BACKEND=local  
  
# ------------------------------------------------------------------  
# External signer configuration (SIGNING_BACKEND=http)  
# Backend service only  
# ------------------------------------------------------------------  
SIGNING_HTTP_URL=http://signer:8080/sign-archival  
  
# ------------------------------------------------------------------  
# Local PKCS#12 signing (SIGNING_BACKEND=local)  
# Backend service only  
#  
# Intended for non-production use.  
# ------------------------------------------------------------------  
SIGNING_P12_PATH=/run/dev-cert/dev-signing.p12  
SIGNING_P12_PASSWORD=dev-only  
  
  
  
# ==============================================================================  
# SIGNER SIDECAR (.env.signer)  
# ==============================================================================  
#  
# Service:  
#   - signer  
#  
# Responsibilities include:  
#   - PAdES Baseline-LT sealing  
#   - Azure Artifact Signing integration  
#   - HSM-backed RSA signing  
#  
# ------------------------------------------------------------------------------  
  
# ------------------------------------------------------------------  
# Azure Entra ID — Service Principal (Signer)  
#  
# Used by the signer sidecar to authenticate with Azure Artifact Signing.  
# ------------------------------------------------------------------  
SIGNER_AZURE_TENANT_ID=  
SIGNER_AZURE_CLIENT_ID=  
SIGNER_AZURE_CLIENT_SECRET=  
  
# ------------------------------------------------------------------  
# Azure Artifact Signing configuration  
# Signer sidecar only  
# ------------------------------------------------------------------  
SIGNER_AZURE_ARTIFACT_SIGNING_ACCOUNT=  
SIGNER_AZURE_ARTIFACT_SIGNING_PROFILE=  
SIGNER_AZURE_ARTIFACT_SIGNING_ENDPOINT=  
  
# ------------------------------------------------------------------  
# Signer runtime limits  
# ------------------------------------------------------------------  
SIGNER_MAX_PDF_SIZE_MB=25  
  
  
  
# ==============================================================================  
# AUDITOR SERVICE (.env.auditor)  
# ==============================================================================  
#  
# Service:  
#   - auditor  
#  
# Responsibilities include:  
#   - semantic auditing  
#   - LDVP protocol execution  
#   - Azure OpenAI integration  
#  
# ------------------------------------------------------------------------------  
  
# ------------------------------------------------------------------  
# Azure Entra ID — Service Principal (Auditor)  
#  
# Used by the auditor service for Azure OpenAI authentication.  
# ------------------------------------------------------------------  
AZURE_TENANT_ID=  
AZURE_CLIENT_ID=  
AZURE_CLIENT_SECRET=  
  
# ------------------------------------------------------------------  
# Azure OpenAI configuration  
# Auditor service only  
# ------------------------------------------------------------------  
AZURE_OPENAI_ENDPOINT=  
AZURE_OPENAI_DEPLOYMENT=gpt-5.2-chat  
AZURE_OPENAI_API_VERSION=2025-01-01-preview  
AZURE_OPENAI_TIMEOUT_SECONDS=30  
  
# ------------------------------------------------------------------  
# Auditor — Execution gates  
# ------------------------------------------------------------------  
AUDITOR_ENABLE_ARTIFACT_INTEGRITY_AUDIT=true  
AUDITOR_ENABLE_SEAL_TRUST_VERIFICATION=false  
  
AUDITOR_ENABLE_LDVP=false  
AUDITOR_ENABLE_LDVP_SANDBOX=true  
  
# ------------------------------------------------------------------  
# Auditor — LDVP / (protocol specific configuration)  
# ------------------------------------------------------------------  
AUDITOR_LDVP_MODEL_PROVIDER=azure_openai  
AUDITOR_LDVP_MODEL_NAME=  
AUDITOR_LDVP_MAX_FINDINGS=25  
  
# ------------------------------------------------------------------  
# Auditor — Safety and resource limits  
# ------------------------------------------------------------------  
AUDITOR_MAX_PDF_SIZE_MB=25  
AUDITOR_MAX_PAGE_COUNT=500  
AUDITOR_MAX_TEXT_EXTRACTION_CHARS=2000000  
  
# ------------------------------------------------------------------  
# Informational / protocol versioning  
# ------------------------------------------------------------------  
LDVP_PROTOCOL_VERSION=2.3  